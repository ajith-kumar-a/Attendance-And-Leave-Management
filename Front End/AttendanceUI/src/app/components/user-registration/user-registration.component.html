<div class="registration-container">
  <h2>User Registration</h2>
  <form #registrationForm="ngForm" (ngSubmit)="onSubmit(registrationForm)">
    <!-- Date of Birth -->
    <div class="form-group">
      <label for="date_of_birth">Date of Birth</label>
      <input
        type="date"
        id="date_of_birth"
        [(ngModel)]="userDetails.date_of_birth"
        name="date_of_birth"
        #date_of_birth="ngModel"
        required
        class="form-control"
        [ngClass]="{'is-invalid': date_of_birth.invalid && date_of_birth.touched}"
      />
      <div *ngIf="date_of_birth.invalid && date_of_birth.touched" class="error-message">
        Date of Birth is required
      </div>
    </div>

    <!-- Mentor -->
    <div class="form-group">
      <label for="mentor">Mentor</label>
      <select
        id="mentor"
        [(ngModel)]="userDetails.mentor_name"
        name="mentor"
        #mentor="ngModel"
        (change)="updateMentorName()"
        required
        class="form-control"
        [ngClass]="{'is-invalid': mentor.invalid && mentor.touched}"
      >
        <option value="" [disabled]="true" [selected]="true" [hidden]="true">Select Mentor</option>
        <option *ngFor="let mentor of mentors" [value]="mentor.id">
          {{ mentor.username }}
        </option>
      </select>
      <div *ngIf="mentor.invalid && mentor.touched" class="error-message">
        Mentor is required
      </div>
    </div>

    <!-- Mobile Number (only numbers) -->
    <div class="form-group">
      <label for="mobile_number">Mobile Number</label>
      <input
        type="text"
        id="mobile_number"
        [(ngModel)]="userDetails.mobile_number"
        name="mobile_number"
        #mobile_number="ngModel"
        required
        pattern="^[0-9]{10}$"
        class="form-control"
        [ngClass]="{'is-invalid': mobile_number.invalid && mobile_number.touched}"
        placeholder="Enter 10-digit mobile number"
      />
      <div *ngIf="mobile_number.invalid && mobile_number.touched" class="error-message">
        Mobile number must be 10 digits and contain only numbers.
      </div>
    </div>

    <!-- Aadhar Number (only numbers) -->
    <div class="form-group">
      <label for="aadhar_number">Aadhar Number</label>
      <input
        type="text"
        id="aadhar_number"
        [(ngModel)]="userDetails.aadhar_number"
        name="aadhar_number"
        #aadhar_number="ngModel"
        required
        pattern="^[0-9]{12}$"
        class="form-control"
        [ngClass]="{'is-invalid': aadhar_number.invalid && aadhar_number.touched}"
        placeholder="Enter 12-digit Aadhar number"
      />
      <div *ngIf="aadhar_number.invalid && aadhar_number.touched" class="error-message">
        Aadhar number must be 12 digits and contain only numbers.
      </div>
    </div>

    <!-- Batch (only numbers) -->
<div class="form-group">
  <label for="batch">Batch</label>
  <input
    type="text"
    id="batch"
    [(ngModel)]="userDetails.batch"
    name="batch"
    #batch="ngModel"
    required
    pattern="^[0-9]+$"
    class="form-control"
    [ngClass]="{'is-invalid': batch.invalid && batch.touched}"
    placeholder="Enter Batch (only numbers)"
  />
  <div *ngIf="batch.invalid && batch.touched" class="error-message">
    Batch must contain only numbers.
  </div>
</div>


    <!-- Blood Group -->
    <div class="form-group">
      <label for="blood_group">Blood Group</label>
      <select
        id="blood_group"
        [(ngModel)]="userDetails.blood_group"
        name="blood_group"
        #blood_group="ngModel"
        required
        class="form-control"
        [ngClass]="{'is-invalid': blood_group.invalid && blood_group.touched}"
      >
        <option value="" [disabled]="true" [selected]="true" [hidden]="true">Select Blood Group</option>
        <option value="A+">A+</option>
        <option value="A-">A-</option>
        <option value="B+">B+</option>
        <option value="B-">B-</option>
        <option value="AB+">AB+</option>
        <option value="AB-">AB-</option>
        <option value="O+">O+</option>
        <option value="O-">O-</option>
      </select>
      <div *ngIf="blood_group.invalid && blood_group.touched" class="error-message">
        Blood Group is required.
      </div>
    </div>

    <!-- Gender (Dropdown) -->
    <div class="form-group">
      <label for="gender">Gender</label>
      <select
        id="gender"
        [(ngModel)]="userDetails.gender"
        name="gender"
        #gender="ngModel"
        required
        class="form-control"
        [ngClass]="{'is-invalid': gender.invalid && gender.touched}"
      >
        <option value="" disabled selected hidden>Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Others">Others</option>
      </select>
      <div *ngIf="gender.invalid && gender.touched" class="error-message">
        Gender is required.
      </div>
    </div>

    <!-- User ID (Read-Only) -->
    <div class="form-group">
      <label for="user_id">User ID</label>
      <input
        type="text"
        id="user_id"
        [value]="userDetails.user_id"
        name="user_id"
        readonly
        class="form-control"
      />
    </div>

    <button type="submit" [disabled]="registrationForm.invalid">Register</button><br>
  </form>
  
  <div class="input-back">
    <button type="button" (click)="back()">Back</button>
  </div>
</div>
